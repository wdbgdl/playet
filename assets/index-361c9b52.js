import{_ as V,u as z,r as a,b as k,m as x,s as v,o as l,c as p,d as r,e,w as c,f as L,F as H,g as P,h as j,S as A,T as C,i as E,j as G,k as M,p as U,l as $,n as J}from"./index-046c05c3.js";const K="/assets/banner1-ae0ace3f.png",O="/assets/banner2-35411cd6.png",Q="/assets/banner3-9c4c22b4.png";const f=i=>(U("data-v-58297be2"),i=i(),$(),i),W={class:"square_page"},X={class:"swiper_wrap"},Y=f(()=>r("img",{src:K,alt:"",srcset:""},null,-1)),Z=f(()=>r("img",{src:O,alt:"",srcset:""},null,-1)),ee=f(()=>r("img",{src:Q,alt:"",srcset:""},null,-1)),te={key:0,class:"square_playlet_wrap"},ae={__name:"index",setup(i){const I=z(),g=a(!0),h=a({}),d=a(1),w=a(20),y=a(!0);let n=a([]);const b=a("hot");k(()=>{S(),T()}),k(()=>{F()});const N=s=>{I.push({path:"/pages_square/dramaSubset/dramaSubset",query:{id:s,isScroll:scroll.value}})};async function T(){const{code:s,message:o,result:t}=await x.getRecordList();if(s!=200)return v(o);t.length&&(h.value=t[0]||{},setTimeout(()=>{g.value=!0},500))}async function S(){const s={pageNo:d.value,pageSize:w.value},{code:o,message:t,result:_}=await x.getTvList(s);if(o!=200)return v(t);if(!_.length&&d.value>1){y.value=!1,v("No more data yet!");return}n.value=[...n.value,..._]}function F(){g.value=!1,h.value={}}function q(){n.value.length<w.value||y.value&&(d.value++,S())}return(s,o)=>{const t=E,_=A,m=G,B=C,D=M,R=J;return l(),p("div",W,[r("div",X,[e(_,{class:"my-swipe",autoplay:3e3,"indicator-color":"white",height:"300","show-indicators":!1},{default:c(()=>[e(t,null,{default:c(()=>[Y]),_:1}),e(t,null,{default:c(()=>[Z]),_:1}),e(t,null,{default:c(()=>[ee]),_:1})]),_:1})]),e(B,{active:b.value,"onUpdate:active":o[0]||(o[0]=u=>b.value=u),background:"#141414",color:"transparent","title-active-color":"#fff"},{default:c(()=>[e(m,{title:"Hot drama",name:"hot"}),e(m,{title:"",name:"hot"}),e(m,{title:"",name:"hot"})]),_:1},8,["active"]),r("div",{"scroll-y":!0,class:"home_content",onScrolltolower:q},[L(n).length?(l(),p("div",te,[(l(!0),p(H,null,P(L(n),u=>(l(),p("div",{class:"playlet_item",key:u.playet_id},[e(D,{item:u,onGoLink:N},null,8,["item"])]))),128))])):(l(),j(R,{key:1}))],32)])}}},oe=V(ae,[["__scopeId","data-v-58297be2"]]);export{oe as default};
